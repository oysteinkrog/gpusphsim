<?xml version="1.0" encoding="utf-8"?>
<VisualStudioToolFile
	Name="CUDA Runtime API Build Rule (v3.2)"
	Version="8.00"
	>
	<Rules>	 
		<CustomBuildRule
			Name="Cudart Build Rule"
			DisplayName="CUDA Runtime API"
			CommandLine="echo [NvccPath] [Keep] [GPUDebugInfo] [ExtraNvccOptions] [Arch1] [Arch2] [Arch3] [TargetMachinePlatform] -ccbin &quot;$(VCInstallDir)bin&quot; [HostDebugInfo] [FastMath] [Defines] -Xcompiler &quot;/EHsc [Warning] /nologo [Optimization] /Zi [RuntimeChecks] [Runtime] [TypeInfo] [ExtraCppOptions]&quot; [Include] [RequiredIncludes] [MaxRegCount] [PtxAsOptionV] [NvccCompilation] $(InputFileName) &#x0D;&#x0A; 
							  [NvccPath] [Keep] [GPUDebugInfo] [ExtraNvccOptions] [Arch1] [Arch2] [Arch3] [TargetMachinePlatform] -ccbin &quot;$(VCInstallDir)bin&quot; [HostDebugInfo] [FastMath] [Defines] -Xcompiler &quot;/EHsc [Warning] /nologo [Optimization] /Zi [RuntimeChecks] [Runtime] [TypeInfo] [ExtraCppOptions]&quot; [Include] [RequiredIncludes] [MaxRegCount] [ptxasoptionv] [NvccCompilation] &quot;$(InputPath)&quot; "
			Outputs="[CompileOut]"
			AdditionalDependencies="[AddedDependencies]"
			FileExtensions="*.cu"
			ExecutionDescription="Compiling with CUDA Build Rule..."
			>
			<Properties>
				<StringProperty
					Name="NvccPath"
					DisplayName="Compiler Path"
					Description="Designated path to nvcc.exe"
					DefaultValue="$(CUDA_PATH)\bin\nvcc.exe"
					Switch="&quot;[value]&quot;"
					IsReadOnly="true"
				/>
				<StringProperty
					Name="RequiredIncludes"
					DisplayName="Required Include Directories"
					Description="This include must exist CUDA headers may be accessed."
					Switch="-I&quot;[value]&quot;"
					DefaultValue="$(CUDA_PATH)\include"
					Delimited="true"
					Delimiters=";"
					IsReadOnly="true"
				/>
				
				<StringProperty
					Name="Include"
					DisplayName="Additional Include Directories"
					Description="Specifies one or more directories to add to the include path; use semi-colon delimited list if more than one.  (/I[path])"
					Switch="-I&quot;[value]&quot;"
					Inheritable="true"
					Delimited="true"
					Delimiters=";"
				/>
				<StringProperty
					Name="AddedDependencies"
					DisplayName="Source Dependencies"
					Description="Add additional source file dependencies"
					Switch="[value]"
				/>
				<BooleanProperty
					Name="GPUDebugInfo"
					DisplayName="Generate GPU Debug Information"
					Description="Specifies whether or not GPU debugging information is generated by the CUDA compiler.  (-G0)"
					PropertyPageName="GPU"
					DefaultValue="false"
					Switch="-G0"
				/>
				<EnumProperty
					Name="NvccCompilation"
					DisplayName="NVCC Compilation Type"
					Description="Select desired output of NVCC compilation (-c/-compile, -cuda, -gpu, -cubin, -ptx)"
					PropertyPageName="GPU"
					DefaultValue="0"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="--compile -o [CompileOut]"
							DisplayName="Generate hybrid object file  (--compile / -c)"
						/>
						<EnumValue
							Value="1"
							Switch="-cuda -o [CompileOut]"
							DisplayName="Generate hybrid .c file  (-cuda)"
						/>
						<EnumValue
							Value="2"
							Switch="-gpu -o [CompileOut]"
							DisplayName="Generate .gpu file  (-gpu)"
						/>
						<EnumValue
							Value="3"
							Switch="-m32 -cubin -o [CompileOut]"
							DisplayName="Generate 32 bit .cubin file  (-m32 -cubin)"
						/>
						<EnumValue
							Value="5"
							Switch="-m64 -cubin -o [CompileOut]"
							DisplayName="Generate 64 bit .cubin file  (-m64 -cubin)"
						/>
						<EnumValue
							Value="4"
							Switch="-ptx -o [CompileOut]"
							DisplayName="Generate .ptx file  (-ptx)"
						/>
					</Values>
				</EnumProperty>
				<StringProperty
					Name="CompileOut"
					DisplayName="Compiler Output (obj/cubin)"
					Description="Sets output as an OBJ or cubin file"
					DefaultValue="$(IntDir)/$(InputFileName).obj"
					Switch="&quot;[value]&quot;"
				/>
				<EnumProperty
					Name="Arch1"
					DisplayName="GPU Architecture (1)"
					Description="Select option for the GPU architecture to use on the command line (-arch sm_10 through sm_20)"
					DefaultValue="10"
					PropertyPageName="GPU"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch=""
							DisplayName="0"
						/>
						<EnumValue
							Value="10"
							Switch="-gencode=arch=compute_10,code=\&quot;sm_10,compute_10\&quot;"
							DisplayName="sm_10"
						/>
						<EnumValue
							Value="11"
							Switch="-gencode=arch=compute_11,code=\&quot;sm_11,compute_11\&quot;"
							DisplayName="sm_11"
						/>
						<EnumValue
							Value="12"
							Switch="-gencode=arch=compute_12,code=\&quot;sm_12,compute_12\&quot;"
							DisplayName="sm_12"
						/>
						<EnumValue
							Value="13"
							Switch="-gencode=arch=compute_13,code=\&quot;sm_13,compute_13\&quot;"
							DisplayName="sm_13"
						/>
						<EnumValue
							Value="20"
							Switch="-gencode=arch=compute_20,code=\&quot;sm_20,compute_20\&quot;"
							DisplayName="sm_20"
						/>
					</Values>
				</EnumProperty>
				<EnumProperty
					Name="Arch2"
					DisplayName="GPU Architecture (2)"
					Description="Select option for the GPU architecture to use on the command line (-arch sm_10 through sm_20)"
					DefaultValue="20"
					PropertyPageName="GPU"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch=""
							DisplayName="0"
						/>
						<EnumValue
							Value="10"
							Switch="-gencode=arch=compute_10,code=\&quot;sm_10,compute_10\&quot;"
							DisplayName="sm_10"
						/>
						<EnumValue
							Value="11"
							Switch="-gencode=arch=compute_11,code=\&quot;sm_11,compute_11\&quot;"
							DisplayName="sm_11"
						/>
						<EnumValue
							Value="12"
							Switch="-gencode=arch=compute_12,code=\&quot;sm_12,compute_12\&quot;"
							DisplayName="sm_12"
						/>
						<EnumValue
							Value="13"
							Switch="-gencode=arch=compute_13,code=\&quot;sm_13,compute_13\&quot;"
							DisplayName="sm_13"
						/>
						<EnumValue
							Value="20"
							Switch="-gencode=arch=compute_20,code=\&quot;sm_20,compute_20\&quot;"
							DisplayName="sm_20"
						/>
					</Values>
				</EnumProperty>
				<EnumProperty
					Name="Arch3"
					DisplayName="GPU Architecture (3)"
					Description="Select option for the GPU architecture to use on the command line (-arch sm_10 through sm_20)"
					DefaultValue="0"
					PropertyPageName="GPU"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch=""
							DisplayName="0"
						/>
						<EnumValue
							Value="10"
							Switch="-gencode=arch=compute_10,code=\&quot;sm_10,compute_10\&quot;"
							DisplayName="sm_10"
						/>
						<EnumValue
							Value="11"
							Switch="-gencode=arch=compute_11,code=\&quot;sm_11,compute_11\&quot;"
							DisplayName="sm_11"
						/>
						<EnumValue
							Value="12"
							Switch="-gencode=arch=compute_12,code=\&quot;sm_12,compute_12\&quot;"
							DisplayName="sm_12"
						/>
						<EnumValue
							Value="13"
							Switch="-gencode=arch=compute_13,code=\&quot;sm_13,compute_13\&quot;"
							DisplayName="sm_13"
						/>
						<EnumValue
							Value="20"
							Switch="-gencode=arch=compute_20,code=\&quot;sm_20,compute_20\&quot;"
							DisplayName="sm_20"
						/>
					</Values>
				</EnumProperty>
				<EnumProperty
					Name="TargetMachinePlatform"
					DisplayName="Target Machine Platform"
					Description="Select the platform of the target machine (x86 or x64)"
					DefaultValue="0"
					PropertyPageName="Host"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="--machine 32"
							DisplayName="x86"
						/>
						<EnumValue
							Value="1"
							Switch="--machine 64"
							DisplayName="x64"
						/>
					</Values>
				</EnumProperty>
				<IntegerProperty
					Name="MaxRegCount"
					DisplayName="Max Used Register "
					Description="Specify the maximum amount of registers that GPU functions can use. (-maxrregcount)"
					Switch="-maxrregcount=[Value]"
					PropertyPageName="GPU"
					DefaultValue="32"
				/>
				<BooleanProperty
					Name="PtxAsOptionV"
					DisplayName="Verbose PTXAS Output"
					PropertyPageName="GPU"
					Switch="--ptxas-options=-v"
				/>
				<StringProperty
					Name="ExtraNvccOptions"
					DisplayName="Extra Options"
					Description="Supply any additional command line options to NVCC"
					PropertyPageName="GPU"
					Switch="[value]"
				/>
				<BooleanProperty
					Name="Keep"
					DisplayName="Keep Preprocessed Files"
					PropertyPageName="GPU"
					Description="Specifies that preprocessor files generated by the CUDA compiler are not deleted, ie..ptx, .cubin, cudafe1.c, cudafe1.cpp, cudafe1.gpu, etc. (--keep)"
					Switch="--keep"
				/>
				<BooleanProperty
					Name="HostDebugInfo"
					DisplayName="Generate Host Debug Information"
					Description="Specifies whether or not host debugging information is generated by the CUDA compiler.  (-g)"
					PropertyPageName="Host"
					DefaultValue="false"
					Switch="-D_NEXUS_DEBUG -g"
				/>
				<BooleanProperty
					Name="FastMath"
					DisplayName="Use Fast Math"
					Category="Default"
					Description="Make use of the fast math library."
					PropertyPageName="Host"
					Switch="-use_fast_math"
				/>
				<EnumProperty
					Name="Warning"
					DisplayName="Warning Level"
					Description="Select how strict you want the compiler to be about checking for potentially suspect constructs.   (/W0 - /W4)"
					PropertyPageName="Host"
					DefaultValue="3"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="/W0"
							DisplayName="Off: Turn Off All Warnings (/W0)"
						/>
						<EnumValue
							Value="1"
							Switch="/W1"
							DisplayName="Level 1 (/W1)"
						/>
						<EnumValue
							Value="2"
							Switch="/W2"
							DisplayName="Level 2 (/W2)"
						/>
						<EnumValue
							Value="3"
							Switch="/W3"
							DisplayName="Level 3 (/W3)"
						/>
						<EnumValue
							Value="4"
							Switch="/W4"
							DisplayName="Level 4 (/W4)"
						/>
					</Values>
				</EnumProperty>
				<EnumProperty
					Name="Optimization"
					DisplayName="Optimization"
					Description="Select option for code optimization; choose Custom to use specific optimization options.  (/Od, /O1, /O2, /Ox)"
					PropertyPageName="Host"
					DefaultValue="2"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="/Od"
							DisplayName="Disabled (/Od)"
						/>
						<EnumValue
							Value="1"
							Switch="/O1"
							DisplayName="Minimize Size (/O1)"
						/>
						<EnumValue
							Value="2"
							Switch="/O2"
							DisplayName="Maximize Speed (/O2)"
						/>
						<EnumValue
							Value="3"
							Switch="/Ox"
							DisplayName="Full Optimization (/Ox)"
						/>
					</Values>
				</EnumProperty>
				<EnumProperty
					Name="Runtime"
					DisplayName="Runtime Library"
					Description="Specify runtime library for linking.   (/MT, /MTd, /MD, /MDd, /ML, /MLd)"
					PropertyPageName="Host"
					DefaultValue="0"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="/MT"
							DisplayName="Multi-Threaded (/MT)"
						/>
						<EnumValue
							Value="1"
							Switch="/MTd"
							DisplayName="Multi-Threaded Debug (/MTd)"
						/>
						<EnumValue
							Value="2"
							Switch="/MD"
							DisplayName="Multi-Threaded DLL (/MD)"
						/>
						<EnumValue
							Value="3"
							Switch="/MDd"
							DisplayName="Multi-Threaded Debug DLL (/MDd)"
						/>
						<EnumValue
							Value="4"
							Switch="/ML"
							DisplayName="Single-Threaded (/ML)"
						/>
						<EnumValue
							Value="5"
							Switch="/MLd"
							DisplayName="Single-Threaded Debug (/MLd)"
						/>
					</Values>
				</EnumProperty>
				<BooleanProperty
					Name="TypeInfo"
					DisplayName="Enable Run-Time Type Info"
					Description="Adds code for checking C++ object types at run time (runtime type information). (/GR)"
					PropertyPageName="Host"
					Switch="/GR"
				/>
				<StringProperty
					Name="ExtraCppOptions"
					DisplayName="Extra C++ Options"
					Description="Supply any additional command line options to the host C++ compiler"
					PropertyPageName="Host"
					Switch="[value]"
				/>
				<EnumProperty
					Name="RuntimeChecks"
					DisplayName="Basic Runtime Checks"
					Description="Perform basic runtime error checks, incompatible with any optimization type other than debug.   (/RTCs, /RTCu, /RTC1)"
					PropertyPageName="Host"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch=" "
							DisplayName="Default"
						/>
						<EnumValue
							Value="1"
							Switch="/RTCs"
							DisplayName="Stack Frames (/RTCs)"
						/>
						<EnumValue
							Value="2"
							Switch="/RTCu"
							DisplayName="Uninitialized Variables (/RTCu)"
						/>
						<EnumValue
							Value="3"
							Switch="/RTC1"
							DisplayName="Both (/RTC1, equiv. to /RTCsu)"
						/>
					</Values>
				</EnumProperty>
				<StringProperty
					Name="Defines"
					DisplayName="Preprocessor Definitions"
					PropertyPageName="Host"
					Description="Specifies one or more preprocessor defines.  (-D[macro])"
					Switch="-D[value]"
					Delimited="true"
					Inheritable="true"
				/>
			</Properties>
		</CustomBuildRule>
	</Rules>
</VisualStudioToolFile>
